# 第19章　給与システムのケーススタディ:実装

システムを設計するときは、テストファーストで開発することをこれまで徹底してきた。これまで長々と話してきた給与システムの設計についても同様のことを行おう。実際にコードを書くときはテストしながら進むので、非常に細かいステップを踏むのだが、ここでは本文中の区切りのいいところでコードを示すことにする。誤りのない完全なコードだけしか記載されていないからといって、私が最初からそのようなコードを書き上げたのだと勘違いしないでほしい。各コードを書き上げるまでには、幾度となくエディット、コンパイル、テストケースの実行を繰り返している。それぞれの些細な作業でしかないが、ステップごとにコードは確実に進化し、ここに記載したコードに到達しているのである。

ここではUMLによる記述もたくさん目にすることになる。このUMLは私がホワイトボードに簡単にスケッチして、ペアパートナーであるあなたに私の考えを示すためのダイアグラムだと思ってほしい。UMLは、あなたと私を結ぶコミュニケーションツールとしてとても役立つ。

トランザクションを表現する抽象クラスTransactionを図19-1に示す。このクラスはExecuteという名前のメソッドを持っている。これはもちろん、Commandパターンである。Transactionクラスの実装をリスト19-1に示す。
![図19-1 Transactionインターフェース](https://prod-files-secure.s3.us-west-2.amazonaws.com/e759e211-d22b-41bf-8b06-73bcf2b74932/7f618b0b-1006-4e7b-8f74-fcb775e6e644/Untitled.png)

図19-1 Transactionインターフェース
